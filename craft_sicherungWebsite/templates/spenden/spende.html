{% extends "_layouts/layoutHome.html" %}

{% block block1 %}

<div class="container-fluid text-center" id="ersterContainer" style="padding-top: 7rem; padding-bottom: 3rem; position: relative;">

  <div class="container achterspaltenlayout" style="padding-top:0px; background-image: url({{ craft.assets.filename('chance-ev-spenden-allgemein-icon.png').one().getUrl() }}); background-repeat: no-repeat;">
    {% set entry = craft.entries.section('spenden').slug('menschen-chance3').one() %}

    <div style="padding-bottom:3rem; ">
      <h1 style="padding-bottom: 2rem;"> {{ entry.title }}  </h1>
    </div>
  </div>
</div>
<!--Styleanweisungen für das Modal -->
<style media="screen">
  #myModal h2 {
    padding-bottom: 1rem;
  }
  #myModal h4 {
    margin-bottom: 0;
  }
  .modal.fade.show {
    display: flex !important;
    flex-direction: column;
    justify-content: center;
  }
  .form-control {
    border-radius: 0;
    border-color: transparent;
    padding: .75rem;
  }
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
</style>

<div class="modal fade" id="myModal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <!-- Modal body -->
      <div class="modal-body" style="padding: 2rem;">
        {% set entry = craft.entries.section('spendenfelderUndSo').slug('lastschrift').one() %}
        {{ entry.text }}
        <div id="info"> {{ entry.textfeld }} </div>
      </div>

    </div>
  </div>
</div>

{% set entry = craft.entries.section('spenden').slug('partnerland').one() %}

<div class="container-fluid no-padding" id="eingabeFelder" style="padding: 5rem 2rem; background-image: url({{ entry.bild.one().url }}); background-repeat: no-repeat;">

  <div class="container zwoelferspaltenlayout" style="background-color: white; padding: 4rem 2rem;">
    {% set entry = craft.entries.section('spenden').slug('menschen-chance3').one() %}
    <h2 style="padding-bottom: 1.5rem;"> {{ entry.anleser }} </h2>
    <div id="copy" style="padding-bottom: 2rem;">  <h4> SEPA-Lastschriftmandat </h4>
    Eine regelmäßige Spende können Sie durch das Ausfüllen des folgenden Formulars bequem online einrichten. Alternativ können Sie das <a target="_blank" href="{{entry.bild.one().url}}">SEPA-Lastschriftmandat herunterladen</a> und eigenständig ausfüllen oder aber Sie richten einen Dauerauftrag ein.
  </div>

    <div class="custom-control custom-checkbox">
      <input type="checkbox" class="custom-control-input" id="zahlungsermaechtigung" name="Ermaechtigung" required>
      <label class="custom-control-label" for="zahlungsermaechtigung"> <p>Hiermit ermächtige(n) ich/wir Chance e.V. Zahlungen von meinem/unserem Konto mittels Lastschrift einzuziehen. Zugleich weise(n) ich/wir mein/unser Kreditinstitut an, die von Chance e.V. auf mein/unser Konto gezogenen Lastschriften einzulösen. <br> Hier können Sie die <a href="#myModal" data-toggle="modal" data-target="#myModal">Termine der Einzüge unserer SEPA-Lastschriften</a> einsehen.</p>
 </label>
    </div>
    <p id="fehlermeldungErmaechtigung"> </p>

    <p> Intervall: </p>

    <!-- Default inline 1-->
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" value="monatlich" class="custom-control-input intervall" id="defaultInline1" name="intervall">
      <label class="custom-control-label" for="defaultInline1">monatlich</label>
    </div>

    <!-- Default inline 2-->
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" value="quartalsweise" class="custom-control-input intervall" id="defaultInline2" name="intervall">
      <label class="custom-control-label" for="defaultInline2">quartalsweise</label>
    </div>

    <!-- Default inline 3-->
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" value="halbjährlich" class="custom-control-input intervall" id="defaultInline3" name="intervall">
      <label class="custom-control-label" for="defaultInline3">halbjährlich</label>
    </div>

    <!-- Default inline 4-->
    <div class="custom-control custom-radio custom-control-inline">
      <input type="radio" value="jährlich" class="custom-control-input intervall" id="defaultInline4" name="intervall">
      <label class="custom-control-label" for="defaultInline4">jährlich</label>
    </div>
    <p id="fehlermeldungCheckbox"> </p>

    <div class="row">
      <div class="col-sm-6">
        <div class="form-group" style="padding-top: 3rem;">
          <label for="sel1" id="copy">Verwendungszweck</label>
          <select class="form-control" id="sel1" name="zweck" style="height: auto;">
            <option>Allgemein Spenden</option>
            <option>Peru</option>
            <option>Kenia</option>
            <option>Dorfpate Peru</option>
            <option>Dorfpate Kenia</option>
            <option>Naturschutz Peru</option>
            <option>Kinderpate Peru</option>
            <option>Kinderpate Kenia</option>
          </select>
        </div>
      </div>

      <script> //Script um das passende Spendenfeld auszuwählen
      $(function() {
      var welcheSpende =  '{{ craft.request.getQueryStringWithoutPath() }}';
      welcheSpende = welcheSpende.replace('spendenart=', '');
      welcheSpende = welcheSpende.replace('%20', ' ');       welcheSpende = welcheSpende.replace('*', '');

      if (welcheSpende.match(/Allgemein/)) {
        $('#sel1').val('Allgemein Spenden'); }

      if (welcheSpende == 'Peru') {
          $('#sel1').val('Peru'); }

      if (welcheSpende == 'Kenia') {
          $('#sel1').val('Kenia'); }

      if (welcheSpende.match(/rfer Peru/)) {
          $('#sel1').val('Dorfpate Peru'); }

      if (welcheSpende.match(/rfer Kenia/)) {
          $('#sel1').val('Dorfpate Kenia'); }

      if (welcheSpende.match(/Naturschutz Peru/)) {
        $('#sel1').val('Naturschutz Peru'); }

      if (welcheSpende.match(/Kinderpate Peru/)) {
        $('#sel1').val('Kinderpate Peru'); }

      if (welcheSpende.match(/Kinderpate Kenia/)) {
        $('#sel1').val('Kinderpate Kenia'); }

      function mindestspendenbetragSetzen () {
        $("#betrag").attr("placeholder", "New Value");
      }

      });
      </script>

      <div class="col-sm-6">  </div>
      <div class="col-sm-6">
        <div class="form-group">
          <label for="usr">Name der Bank</label>
          <input type="text" name="bank" id="bank" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="usr">Betrag in Euro</label>
          <input type="number" name="betrag" id="betrag" class="form-control" placeholder="Enter email" required>
        </div>
        <div class="form-group">
          <label for="usr">IBAN</label>
          <input type="text" name="iban" id="iban" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="usr">BIC</label>
          <input type="text" name="bic" id="bic" class="form-control" required>
        </div>

      </div>

      <div class="col-sm-6">

        <div class="form-group">
          <label for="usr">Kontoinhaber (Vorname, Name)</label>
          <input type="text" name="inhaber" id="inhaber" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="usr">Straße, Hausnummer</label>
          <input type="text" name="adresse" id="adresse" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="usr">PLZ, Ort</label>
          <input type="text" name="plz" id="plz" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="usr">E-Mail-Adresse (freiwillig)</label>
          <input type="email" name="email" id="email" class="form-control">
        </div>
      </div>
    </div>

    <div class="custom-control custom-checkbox">
      <input type="checkbox" class="custom-control-input" id="datenschutz" name="datenschutz" required>
      <label class="custom-control-label" for="datenschutz">Ich bin damit einverstanden, dass Chance e. V. meine Daten sicher speichert <a href="https://aufbau-website.de/craft/web/fuerSie/rechtliches/datenschutz">(Infos zum Datenschutz)</a>
        und diese nicht an Dritte weiter gibt.</label>
      </div>
      <p id="fehlermeldungDatenschutz"> </p>



      <div class="custom-control custom-checkbox" style="padding-bottom: 2rem;">
        <input type="checkbox" class="custom-control-input" id="customCheck2" name="newsletter">
        <label class="custom-control-label" for="customCheck2">Ich bin damit einverstanden, dass Chance e.V. mich einmal im Monat per E-Mail und zwei- bis dreimal im Jahr per Post über die Projekte und die Menschen
          vor Ort informiert. Wenn Sie keine Informationen (mehr) bekommen möchten, schreiben Sie uns: info@chance-international.org</label>
        </div>

            <button onclick="myFunction()" class="btn btn-primary float-right">Weiter</button>

      </div>
    </div> <!-- Hintergrundcontainer für Eingabe der Daten -->

    <div class="container-fluid no-padding" id="Kontrollansicht" style="display: none;">


      {% macro errorList(errors) %}
      {% if errors %}
      <ul class="errors">
        {% for error in errors %}
        <li>{{ error }}</li>
        {% endfor %}
      </ul>
      {% endif %}
      {% endmacro %}

      {% from _self import errorList %}

      <div id="craftFormulare" style="display: none;">

        <form method="post" action="" accept-charset="UTF-8">
          {{ csrfInput() }}
          <input type="hidden" name="action" value="contact-form/send">
          {{ redirectInput('kontakt/dankespende') }}

          <label style="margin-bottom: 0;" for="inhaberCraft">Vorname*</label>
          <input id="inhaberCraft" required class="form-control" type="text" name="message[Inhaber]" value="">

          <label style="margin-bottom: 0;" for="plzCraft">PLZ*</label>
          <input id="plzCraft" required class="form-control" type="text" name="message[PLZ]" value="">

          <label style="margin-bottom: 0;" for="bankCraft">Name der Bank*</label>
          <input id="bankCraft" required class="form-control" type="text" name="message[Name der Bank]" value="">

          <label style="margin-bottom: 0;" for="betragCraft">Betrag*</label>
          <input id="betragCraft" required class="form-control" type="text" name="message[Betrag]" value="">

          <label style="margin-bottom: 0;" for="zweckCraft">Verwendungszweck*</label>
          <input id="zweckCraft" required class="form-control" type="text" name="message[Verwendungszweck]" value="">

          <label style="margin-bottom: 0;" for="ibanCraft">IBAN*</label>
          <input id="ibanCraft" required class="form-control" type="text" name="message[IBAN]" value="">

          <label style="margin-bottom: 0;" for="bicCraft">BIC*</label>
          <input id="bicCraft" required class="form-control" type="text" name="message[BIC]" value="">

          <label style="margin-bottom: 0;" for="intervallCraft">Intervall*</label>
          <input id="intervallCraft" required class="form-control" type="text" name="message[Intervall]" value="">

          <label style="margin-bottom: 0;" for="from-email">E-Mail*</label>
          <input id="from-email" class="form-control" type="email" name="fromEmail" placeholder="name@example.com" value="{{ message.fromEmail ?? '' }}">
          {{ message is defined and message ? errorList(message.getErrors('fromEmail')) }}

          <label style="margin-bottom: 0;" for="message"> Kommentar </label>
          <textarea rows="5" cols="30" class="form-control" id="message" name="message[Kommentar]"> </textarea>
        </div>

        <div class="container zwoelferspaltenlayout" style="padding-bottom: 5rem;">  <!-- Der Container wo der Text automatisch reingerendert wird -->

          <h2 style="padding-bottom: 1.5rem;"> Auftrag prüfen und absenden</h2>
          <p id="copy"> Ich/wir ermächtige(n) Chance e.V. Zahlungen von meinem/unserem Konto mittels Lastschrift einzuziehen. Zugleich weise(n) ich/ wir mein/unser Kreditinstitut an,
            die von Chance e.V. auf mein/unser Konto gezogenen Lastschriften einzulösen. </p>

            <div class="row" style="padding-bottom: 2rem;">
              <div class="col-3"> Kontoinhaber   </div> <div class="col-9">  <span id="inhaberK"></span>  </div>

              <div class="col-3"> Straße, Hausnummer   </div> <div class="col-9">  <span id="adresseK"></span>  </div>

              <div class="col-3"> PLZ, Ort   </div> <div class="col-9">  <span id="plzK"></span>  </div>

              <div class="col-3"> Name der Bank   </div> <div class="col-9">  <span id="bankK"></span>  </div>

              <div class="col-3"> Betrag   </div> <div class="col-9">  <span id="betragK"></span>  </div>

              <div class="col-3"> Verwendungszweck   </div> <div class="col-9">  <span id="verwendungszweckK"></span>  </div> <!-- Selektor 1 ist der Verwendungszweck -->

              <div class="col-3"> IBAN   </div> <div class="col-9">  <span id="ibanK"></span>  </div>

              <div class="col-3"> BIC   </div> <div class="col-9">  <span id="bicK"></span>  </div>

              <div class="col-3"> Intervall   </div> <div class="col-9">  <span id="sel1K"></span>  </div>

              <div class="col-3"> E-Mail   </div> <div class="col-9">  <span id="emailK"></span>  </div>
            </div>

            <div class="row">
              <div class="col-4">
                <button type="button" onclick="bearbeiten()" class="btn btn-primary">Bearbeiten</button>
              </div>
              <div class="col-5">
                <button type="button" onclick="pdfErstellen()" class="btn btn-primary">Ausdrucken</button>
              </div>
              <div class="col-3">
                <input type="submit" value="Senden" class="btn btn-primary">
              </div>
            </div>
          </form>
        </div> <!-- Die Kontrollansicht mit den Feldern -->

      </div> <!-- Kontrollansicht - Hintergrundcontainer -->
      <!-- Einbinden der PDF-Erstell-Bibliothek -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js" integrity="sha384-CchuzHs077vGtfhGYl9Qtc7Vx64rXBXdIAZIPbItbNyWIRTdG0oYAqki3Ry13Yzu" crossorigin="anonymous"></script>

      <script>
      function bearbeiten() {
        $('#eingabeFelder').css('display', 'block');
        $('#Kontrollansicht').css('display', 'none');
      }

      function pdfErstellen() { //Automatisches Erstellen eines PDFs mit den gerade eingegebenen Daten
        var doc = new jsPDF();
        var bild = 'data:image/png;base64,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'

        doc.addImage(bild, 'PNG', 90, 10, 30, 30)

        doc.setFont("times");
        doc.setFontSize(12);
        doc.text(20, 45, 'Zurück an: \nChance e.V. \nLütticher Str. 51 \n50674 Köln')

        doc.setFontSize(15);
        doc.text(20, 80, 'SEPA-Lastschriftmandat');

        doc.setFontSize(12);
        var text = 'Ich/wir ermächtige(n) Chance e.V. Zahlungen von meinem/unserem Konto mittels Lastschrift einzuziehen. Zugleich weise(n) ich/wir mein/unser Kreditinstitut an, die von Chance e.V. auf mein/unser Konto gezogenen Lastschriften einzulösen.';
        var strArr = doc.splitTextToSize(text, 170);
        doc.text(strArr, 20, 87);

        doc.setFontSize(15);
        doc.text(20, 110, 'Zahlungsempfänger:');

        doc.setFontSize(12);
        var text = 'Chance e. V., Lütticher Str. 51, 50674 Köln \nGläubiger-Identifikationsnummer: DE12 ZZZ0 0000 0846 28';
        var strArr = doc.splitTextToSize(text, 170);
        doc.text(strArr, 20, 117);

        doc.setFontSize(15);
        doc.text(20, 140, 'Kontoinhaber');
        doc.text(120, 140, $('#inhaberCraft').val());

        doc.text(20, 150, 'Straße, Hausnummer');
        doc.text(120, 150, $('#adresse').val());

        doc.text(20, 160, 'PLZ, ORT');
        doc.text(120, 160, $('#plz').val());

        doc.text(20, 170, 'Betrag');
        doc.text(120, 170, $('#betrag').val());

        doc.text(20, 180, 'Verwendungszweck');
        doc.text(120, 180, $('#sel1').val());

        doc.text(20, 190, 'Intervall');
        doc.text(120, 190, $('.intervall:checked').val());

        doc.text(20, 200, 'IBAN');
        doc.text(120, 200, $('#iban').val());

        doc.text(20, 210, 'BIC');
        doc.text(120, 210, $('#bic').val());

        doc.text(20, 220, 'Name der Bank');
        doc.text(120, 220, $('#bank').val());

        if ($('#email').val().length>1) {
        doc.text(20, 230, 'E-Mail');
        doc.text(120, 230, $('#email').val());
        }


        doc.text(20, 250, '-------------------------------------');
        doc.text(20, 255, 'Datum, Ort');

        doc.text(120, 250, '------------------------------------');
        doc.text(120, 255, 'Unterschrift(en)');


        doc.setFontSize(10)
        text = 'Hinweis: Ich kann/Wir können innerhalb von acht Wochen, beginnend mit dem Belastungsdatum, die Erstattung des belasteten Betrags verlangen. Es gelten dabei die mit meinem/unserem Kreditinstitut vereinbarten Bedingungen.Chance e.V. speichert Ihre Daten sicher und gibt diese nicht an Dritte weiter. Spender erhalten 1mal im Monat per E-Mail und 2-3mal im Jahr per Brief Informationen. Wenn Sie keine Informationen (mehr) bekommen möchten, schreiben Sie uns: info@chance-international.org';
        var strArr = doc.splitTextToSize(text, 170);
        doc.text(strArr, 20, 270);

        doc.save('Lastschriftmandat.pdf')

      }

      $(function() {
        $('#datenschutz').prop('checked', true);
      });

      function myFunction() { //Ueberpruefen, ob alle Felder korekkt ausgefüllt sind
        var allesKorrekt = true;
        $(".fehlermeldung").remove(); //Entfernen aller Fehldermeldungen
        //Formvalidierung
        if ($('#inhaber').val().length<1) {    $('#inhaber').after('<span id="info" class="fehlermeldung" style="color: red;">Dieses Feld muss ausgefüllt werden. </span>'); allesKorrekt = false; }
        if ($('#adresse').val().length<1) { $('#adresse').after('<span id="info" class="fehlermeldung" style="color: red;">Dieses Feld muss ausgefüllt werden. </span>'); allesKorrekt = false;}
        if ($('#plz').val().length<1) { $('#plz').after('<span id="info" class="fehlermeldung" style="color: red;">Dieses Feld muss ausgefüllt werden. </span>'); allesKorrekt = false; }
        if ($('#bank').val().length<1) { $('#bank').after('<span id="info" class="fehlermeldung" style="color: red;">Dieses Feld muss ausgefüllt werden. </span>'); allesKorrekt = false; }
        if ($('#betrag').val().length<1) { $('#betrag').after('<span id="info" class="fehlermeldung" style="color: red;">Dieses Feld muss ausgefüllt werden. </span>'); allesKorrekt = false; }
        if ($('#sel1').val().length<1) { $('#sel1').after('<span id="info" class="fehlermeldung" style="color: red;">Dieses Feld muss ausgefüllt werden. </span>'); allesKorrekt = false; }
        if ($('#iban').val().length<1) { $('#iban').after('<span id="info" class="fehlermeldung" style="color: red;">Dieses Feld muss ausgefüllt werden. </span>'); allesKorrekt = false; }
        if ($('#bic').val().length<1) { $('#bic').after('<span id="info" class="fehlermeldung" style="color: red;">Dieses Feld muss ausgefüllt werden. </span>'); allesKorrekt = false;}
        if (!$('.intervall:checked').val()) { $('#fehlermeldungCheckbox').html('<span id="info" class="fehlermeldung" style="color: red;">Sie müssen ein Intervall auswählen. </span>'); allesKorrekt = false;} //Chance speichert Daten sicher und gibt sie nicht weiter
        if (!$('#zahlungsermaechtigung:checked').val()) { $('#fehlermeldungErmaechtigung').html('<span id="info" class="fehlermeldung" style="color: red;">Sie müssen Ihre Zustimmung zum Lastschrifteinzug geben. </span>'); allesKorrekt = false;}
        if (!$('.intervall:checked').val()) { $('#fehlermeldungCheckbox').html('<span id="info" class="fehlermeldung" style="color: red;">Sie müssen ein Intervall auswählen. </span>'); allesKorrekt = false;} //Chance speichert Daten sicher und gibt sie nicht weiter
        if (!$('#datenschutz:checked').val()) { $('#fehlermeldungDatenschutz').html('<span id="info" class="fehlermeldung" style="color: red;">Sie müssen Ihre Zustimmung zu der sicheren Speicherung ihre Daten geben. </span>'); allesKorrekt = false;} //Chance speichert Daten sicher und gibt sie nicht weiter

        if (allesKorrekt) {
          $('#eingabeFelder').css('display', 'none');
          $('#Kontrollansicht').css('display', 'block');
        }

        $('#inhaberK').html($('#inhaber').val()); //Wert ins Kontrollfeld schreiben
        $('#inhaberCraft').val($('#inhaber').val()); //Wert in das Craft-Feld schreiben --> Um dann später abzuschicken, so wird das bei allen Feldern gemacht

        $('#adresseK').html($('#adresse').val());
        $('#adresseCraft').val($('#adresse').val());

        $('#plzK').html($('#plz').val());
        $('#plzCraft').val($('#plz').val());

        $('#bankK').html($('#bank').val());
        $('#bankCraft').val($('#bank').val());

        $('#betragK').html($('#betrag').val());
        $('#betragCraft').val($('#betrag').val());

        $('#verwendungszweckK').html($('#sel1').val());
        $('#zweckCraft').val($('#sel1').val());

        $('#ibanK').html($('#iban').val());
        $('#ibanCraft').val($('#iban').val());

        $('#bicK').html($('#bic').val());
        $('#bicCraft').val($('#bic').val());

        $('#sel1K').html($('.intervall:checked').val());
        $('#intervallCraft').val($('.intervall:checked').val());

        $('#emailK').html($('#email').val()); //Einmal das Feld setzen zur Anzeige und einmal das Feld für das Craft-Kontaktformular
        $('#from-email').val($('#email').val());
        if ($('#from-email').val().length<1) { $('#from-email').val('AbsenderGibt@Mailnicht.an'); }


      }
      </script>

      {% endblock %}
      {# Alles, was bis zu dem endblock-Tag kommt, überschreibt den Block in layoutHome #}
